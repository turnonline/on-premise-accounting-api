swagger: '2.0'
info:
  description: >-
    The TurnOnline.biz REST API designed for cooperation with on-premise
    accounting system.
  version: '1'
  title: TurnOnline.biz On-premise Accounting API
  contact:
    name: TurnOnline.biz Team
    url: 'https://www.turnonline.biz'
    email: support@turnonline.biz
  license:
    name: LGPL-2.1
    url: >-
      https://github.com/turnonline/on-premise-accounting-api/blob/master/LICENSE
host: onpremise.swagger.io
basePath: /v1
tags:
  - name: Address book
    description: The on-premise accounting address book.
  - name: Number series
    description: The on-premise accounting number series management.
  - name: Billing unit
    description: The billing unit of measure used as product unit at invoice.
  - name: Product catalog
    description: The on-premise accounting product catalog.
schemes:
  - http
security:
  - Basic: []
paths:
  /contacts:
    post:
      tags:
        - Address book
      summary: Creates a new contact
      description: Creates a new contact in the address book. Duplicates are allowed.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: false
          schema:
            $ref: '#/definitions/ContactCard'
      responses:
        '201':
          description: Contact response
          schema:
            $ref: '#/definitions/ContactCard'
        '400':
          description: >-
            The error indicates that client has made a request that server
            couldn't understand. The client should not repeat the request
            without modifications.
          schema:
            $ref: '#/definitions/Error'
        '401':
          description: The error when the authentication credential fails.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
  '/contacts/{contactId}':
    get:
      tags:
        - Address book
      summary: Returns the contact
      description: Returns a single contact based on the supplied ID.
      produces:
        - application/json
      parameters:
        - name: contactId
          in: path
          description: The ID of contact to work with
          required: true
          type: string
      responses:
        '200':
          description: Contact response.
          schema:
            $ref: '#/definitions/ContactCard'
        '401':
          description: The error when the authentication credential fails.
        '404':
          description: >-
            The error when client tries to retrieve a resource that doesn't
            exist.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
    put:
      tags:
        - Address book
      summary: Updates the contact
      description: Updates the contact in on-premise accounting system.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: contactId
          in: path
          description: The ID of contact to work with
          required: true
          type: string
        - in: body
          name: body
          required: false
          schema:
            $ref: '#/definitions/ContactCard'
      responses:
        '201':
          description: Contact response
          schema:
            $ref: '#/definitions/ContactCard'
        '400':
          description: >-
            The error indicates that client has made a request that server
            couldn't understand. The client should not repeat the request
            without modifications.
          schema:
            $ref: '#/definitions/Error'
        '401':
          description: The error when the authentication credential fails.
        '404':
          description: The error when client tries to update a resource that doesn't exist.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
    delete:
      tags:
        - Address book
      summary: Deletes the contact
      description: Deletes a single contact based on the supplied ID.
      parameters:
        - name: contactId
          in: path
          description: The ID of contact to work with
          required: true
          type: string
      responses:
        '204':
          description: Contact deleted
        '401':
          description: The error when the authentication credential fails.
        '404':
          description: The error when client tries to delete a resource that doesn't exist.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
  /numberSeries:
    post:
      tags:
        - Number series
      summary: Creates a new number series
      description: Creates a new number series in on-premise accounting system.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: false
          schema:
            $ref: '#/definitions/NumberSeries'
      responses:
        '201':
          description: Number series response
          schema:
            $ref: '#/definitions/NumberSeries'
        '400':
          description: >-
            The error indicates that client has made a request that server
            couldn't understand. The client should not repeat the request
            without modifications.
          schema:
            $ref: '#/definitions/Error'
        '401':
          description: The error when the authentication credential fails.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
  '/numberSeries/{nsId}':
    put:
      tags:
        - Number series
      summary: Updates the number series
      description: Updates the number series in on-premise accounting system.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: nsId
          in: path
          description: The ID of number series to work with
          required: true
          type: string
        - in: body
          name: body
          required: false
          schema:
            $ref: '#/definitions/NumberSeries'
      responses:
        '201':
          description: Number series response
          schema:
            $ref: '#/definitions/NumberSeries'
        '400':
          description: >-
            The error indicates that client has made a request that server
            couldn't understand. The client should not repeat the request
            without modifications.
          schema:
            $ref: '#/definitions/Error'
        '401':
          description: The error when the authentication credential fails.
        '404':
          description: The error when client tries to update a resource that doesn't exist.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
  /products:
    post:
      tags:
        - Product catalog
      summary: Creates a new product
      description: Creates a new product in the product catalog.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: false
          schema:
            $ref: '#/definitions/Product'
      responses:
        '201':
          description: Product response
          schema:
            $ref: '#/definitions/Product'
        '400':
          description: >-
            The error indicates that client has made a request that server
            couldn't understand. The client should not repeat the request
            without modifications.
          schema:
            $ref: '#/definitions/Error'
        '401':
          description: The error when the authentication credential fails.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
  '/products/{productId}':
    get:
      tags:
        - Product catalog
      summary: Returns the product
      description: Returns a single product based on the supplied ID.
      produces:
        - application/json
      parameters:
        - name: productId
          in: path
          description: The ID of product to work with
          required: true
          type: string
      responses:
        '200':
          description: Product response
          schema:
            $ref: '#/definitions/Product'
        '401':
          description: The error when the authentication credential fails.
        '404':
          description: >-
            The error when client tries to retrieve a resource that doesn't
            exist.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
    put:
      tags:
        - Product catalog
      summary: Updates the product
      description: Updates the product in on-premise accounting system.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: productId
          in: path
          description: The ID of product to work with
          required: true
          type: string
        - in: body
          name: body
          required: false
          schema:
            $ref: '#/definitions/Product'
      responses:
        '201':
          description: Product response
          schema:
            $ref: '#/definitions/Product'
        '400':
          description: >-
            The error indicates that client has made a request that server
            couldn't understand. The client should not repeat the request
            without modifications.
          schema:
            $ref: '#/definitions/Error'
        '401':
          description: The error when the authentication credential fails.
        '404':
          description: The error when client tries to update a resource that doesn't exist.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
    delete:
      tags:
        - Product catalog
      summary: Deletes the product
      description: Deletes a single product based on the supplied ID.
      parameters:
        - name: productId
          in: path
          description: The ID of product to work with
          required: true
          type: string
      responses:
        '204':
          description: Product deleted
        '401':
          description: The error when the authentication credential fails.
        '404':
          description: The error when client tries to delete a resource that doesn't exist.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
  /units:
    post:
      tags:
        - Billing unit
      summary: Creates a new billing unit
      description: Creates a new billing unit in on-premise accounting system.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: body
          required: false
          schema:
            $ref: '#/definitions/BillingUnit'
      responses:
        '201':
          description: Billing unit response
          schema:
            $ref: '#/definitions/BillingUnit'
        '400':
          description: >-
            The error indicates that client has made a request that server
            couldn't understand. The client should not repeat the request
            without modifications.
          schema:
            $ref: '#/definitions/Error'
        '401':
          description: The error when the authentication credential fails.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
  '/units/{unitCode}':
    put:
      tags:
        - Billing unit
      summary: Updates the billing unit
      description: Updates the billing unit in on-premise accounting system.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: unitCode
          in: path
          description: The unique code of the billing unit to work with
          required: true
          type: string
        - in: body
          name: body
          required: false
          schema:
            $ref: '#/definitions/BillingUnit'
      responses:
        '201':
          description: Billing unit response
          schema:
            $ref: '#/definitions/BillingUnit'
        '400':
          description: >-
            The error indicates that client has made a request that server
            couldn't understand. The client should not repeat the request
            without modifications.
          schema:
            $ref: '#/definitions/Error'
        '401':
          description: The error when the authentication credential fails.
        '404':
          description: The error when client tries to update a resource that doesn't exist.
        '408':
          description: >-
            The server timed out processing of the request. The client may
            repeat the request without modifications at any later time.
        '500':
          description: >-
            It's a failure of the server. The client can repeat the request
            without modifications at any later time.
securityDefinitions:
  Basic:
    type: basic
definitions:
  Account:
    type: object
  BankAccount:
    type: object
  BillingUnit:
    type: object
    required:
      - code
    properties:
      code:
        type: string
        description: The code of the billing unit.
      name:
        type: string
        description: The name of the billing unit.
      type:
        type: string
        description: The type of the billing unit.
    description: The billing unit of measure used as product unit at invoice.
  ContactCard:
    type: object
    required:
      - company
      - postalAddressSame
      - vatPayer
    properties:
      businessName:
        type: string
        description: Company business name.
      city:
        type: string
        description: City.
      company:
        type: boolean
        description: The boolean indication whether contact represents a business entity.
        default: false
      companyId:
        type: string
        description: Company ID.
      contactEmail:
        type: string
        description: Email as a contact email address.
      id:
        type: string
        description: The contact card identification.
      name:
        type: string
        description: Personal name.
      postalAddressBusinessName:
        type: string
        description: Company postal address business name.
      postalAddressCity:
        type: string
        description: Postal address city.
      postalAddressName:
        type: string
        description: Personal postal address name.
      postalAddressSame:
        type: boolean
        description: >-
          The boolean indication whether contact postal address is same as
          company/personal address. If not postal address is being expected.
        default: false
      postalAddressState:
        type: string
        description: Postal address country code.
      postalAddressStreet:
        type: string
        description: Postal address street and street number.
      postalAddressSurname:
        type: string
        description: Personal postal address surname.
      postalAddressZip:
        type: string
        description: Postal address code.
      state:
        type: string
        description: Country code.
      street:
        type: string
        description: Street and street number.
      surname:
        type: string
        description: Personal surname.
      taxId:
        type: string
        description: Company tax ID.
      vatId:
        type: string
        description: Company VAT ID. Provided if vatPayer property is true.
      vatPayer:
        type: boolean
        description: The boolean indication whether contact business entity is VAT payer.
        default: false
      zip:
        type: string
        description: Postal code.
    description: Address book card that represents business partner contact.
  Error:
    type: object
    required:
      - code
      - message
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
  Invoice:
    type: object
  NumberSeries:
    type: object
    required:
      - name
    properties:
      id:
        type: string
        description: The number series identification.
      name:
        type: string
        description: The name of the number series.
      periods:
        type: array
        items:
          $ref: '#/definitions/Period'
    description: >-
      The accounting number series as a definition of the invoice number
      increment.
  Payment:
    type: object
  Period:
    type: object
    required:
      - code
    properties:
      code:
        type: string
        description: >-
          The accounting period's code, generally as a year. For example 4
          digits '2016'.
      current:
        type: string
        description: The current value of the increment.
      numberOfChars:
        type: integer
        format: int32
        description: The max number of characters or digits of the increment.
      postfix:
        type: string
        description: >-
          The number series postfix. Possible format either as static text or
          dynamic: for example %YY%.
      prefix:
        type: string
        description: >-
          The number series prefix. Possible format either as static text or
          dynamic: for example %YY%.
    description: Accounting period
  Product:
    type: object
    required:
      - name
      - unit
      - vatRate
    properties:
      code:
        type: string
        description: 'The product code, unique only per account.'
      description:
        type: string
        description: 'The product description, not appearing at invoice.'
      id:
        type: string
        description: The product identification.
      name:
        type: string
        description: >-
          The product name, very short summary placed at invoice as a billing
          item.
      priceExclVat:
        type: number
        format: double
        description: The product catalog price excluding VAT.
      unit:
        description: The billing unit of measure at invoice.
        $ref: '#/definitions/BillingUnit'
      vatRate:
        description: The billing item VAT rate.
        $ref: '#/definitions/VatRate'
    description: >-
      The product catalog, catalog item may be placed at invoice as billing item
      with corresponding billing unit.
  VatRate:
    type: string
    description: VAT rate
    default: standard
    enum:
      - standard
      - reduced
      - zero
